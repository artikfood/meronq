<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title> ’Ñ’•÷Ä’∏’∂÷Ñ ‚Äî Premium Delivery</title>

  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#0f1115">
  <link rel="apple-touch-icon" href="icon-192.png">

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Playfair+Display:wght@500;600;700&display=swap" rel="stylesheet">

  <style>
    :root {
      --bg-main: #0f1115;
      --bg-secondary: #151822;
      --bg-card: rgba(255,255,255,0.06);
      --bg-glass: rgba(255,255,255,0.08);
      --border-glass: rgba(255,255,255,0.12);
      --accent-gold: #d4af37;
      --accent-green: #2ecc71;
      --text-main: #f5f6f7;
      --text-muted: rgba(245,246,247,0.72);
      --shadow-soft: 0 10px 30px rgba(0,0,0,0.4);
      --shadow-hover: 0 16px 40px rgba(0,0,0,0.55);
    }
    body { margin:0; font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial; background: var(--bg-main); color: var(--text-main); }
    .hidden { display:none !important; }
    header {
      position: sticky; top:0; z-index:9999;
      background: linear-gradient(180deg, rgba(21,24,34,.96), rgba(21,24,34,.72));
      backdrop-filter: blur(10px);
      border-bottom: 1px solid var(--border-glass);
      padding: 12px 14px;
      display:flex; align-items:center; justify-content:space-between; gap:12px;
    }
    header .logo-box { display:flex; align-items:center; gap:10px; cursor:pointer; }
    header img { width:44px; height:44px; border-radius:14px; object-fit:cover; box-shadow: var(--shadow-soft); }
    header h1 { margin:0; font-family:"Playfair Display", serif; font-size:20px; color: var(--accent-gold); }
    nav { display:flex; gap:10px; align-items:center; flex-wrap:wrap; justify-content:flex-end; }
    nav a {
      color: var(--text-main);
      text-decoration:none;
      padding: 8px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      font-weight: 700;
      font-size: 13px;
    }
    .theme-toggle {
      width:38px;height:38px;border-radius:50%;
      display:flex;align-items:center;justify-content:center;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      cursor:pointer;
    }

    .section { padding: 18px 14px; max-width: 980px; margin: 0 auto; }
    .section h2 { margin:0 0 10px; font-size:18px; color: var(--accent-gold); font-weight:800; }
    .grid { display:grid; grid-template-columns: repeat(auto-fill, minmax(170px, 1fr)); gap:12px; }
    .card {
      padding: 12px;
      border-radius: 18px;
      border: 1px solid var(--border-glass);
      background: linear-gradient(180deg, var(--bg-glass), rgba(255,255,255,0.02));
      box-shadow: var(--shadow-soft);
      cursor:pointer;
      transition: transform .15s ease, box-shadow .15s ease;
    }
    .card:hover { transform: translateY(-2px); box-shadow: var(--shadow-hover); }
    .loading { padding: 16px; text-align:center; color: var(--text-muted); }

    .top-tools {
      display:flex; gap:10px; align-items:center; flex-wrap:wrap;
      padding: 10px 14px;
      max-width: 980px; margin: 0 auto;
    }
    #searchInput {
      flex: 1;
      min-width: 220px;
      padding: 12px 14px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      color: var(--text-main);
      outline: none;
      font-weight: 600;
    }

    .product {
      display:flex;
      gap: 12px;
      align-items:center;
      border: 1px solid var(--border-glass);
      background: rgba(255,255,255,.05);
      border-radius: 18px;
      padding: 10px;
      margin: 10px 0;
    }
    .product img { width:72px; height:72px; border-radius:16px; object-fit:cover; box-shadow: var(--shadow-soft); }
    .product h4 { margin:0 0 4px; font-weight:800; }
    .product p { margin:0; color: var(--text-muted); font-size: 13px; }

    .qty-controls { display:flex; align-items:center; gap:8px; }
    .qty-controls button {
      width:34px; height:34px; border-radius:50%;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      color: var(--text-main);
      cursor:pointer;
      font-weight:900;
      font-size: 18px;
    }
    .qty-number { min-width: 18px; text-align:center; font-weight:900; }

    .order-form {
      border: 1px solid var(--border-glass);
      border-radius: 20px;
      background: rgba(255,255,255,.05);
      padding: 14px;
    }
    .order-form input, .order-form textarea, .order-form select {
      width: 100%;
      padding: 12px 12px;
      margin: 8px 0;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      color: var(--text-main);
      outline: none;
      font-weight:600;
      box-sizing:border-box;
    }
    .order-form button {
      width: 100%;
      padding: 13px 14px;
      margin-top: 10px;
      border-radius: 16px;
      border: 1px solid rgba(46,204,113,.35);
      background: rgba(46,204,113,.12);
      color: var(--text-main);
      cursor:pointer;
      font-weight: 900;
      font-size: 15px;
    }
    .totals { margin-top:10px; display:grid; gap:6px; }
    .totals div { color: var(--text-muted); font-weight:700; }
  
    body.light-theme {
      --bg-main: #f6f7f9;
      --bg-secondary: #ffffff;
      --bg-card: rgba(0,0,0,0.04);
      --bg-glass: rgba(0,0,0,0.06);
      --border-glass: rgba(0,0,0,0.12);

      --text-main: #0f1115;
      --text-muted: rgba(15,17,21,0.65);

      --accent-gold: #b89b2e;
      --accent-green: #1f9d55;

      --shadow-soft: 0 8px 20px rgba(0,0,0,0.08);
      --shadow-hover: 0 14px 32px rgba(0,0,0,0.12);
    }

    /* Compact UI (no layout changes) */
    .card { padding: 12px !important; }
    .product { padding: 10px !important; gap: 10px !important; }
    .product h4 { margin: 0 0 4px !important; font-size: 14px !important; }
    .product p { margin: 0 !important; font-size: 12px !important; }
    .qty-controls button { width: 34px !important; height: 34px !important; }
    
</style>
</head>

<body>

<header>
  <div class="logo-box" onclick="goHome()">
    <img src="logo.png" alt="logo" onerror="this.style.display='none'">
    <div>
      <h1>’Ñ’•÷Ä’∏’∂÷Ñ</h1>
      <div style="font-size:12px;color:var(--text-muted)">Premium Delivery</div>
    </div>
  </div>

  <nav>
    <a href="#" onclick="event.preventDefault(); openShops();">–ú–∞–≥–∞–∑–∏–Ω—ã</a>
    <a href="#" onclick="event.preventDefault(); showOrderHistory();">–ò—Å—Ç–æ—Ä–∏—è</a>
    <a href="#" onclick="event.preventDefault(); document.getElementById('cart-page').scrollIntoView({ behavior: 'smooth' });">–ö–æ—Ä–∑–∏–Ω–∞</a>
    <div class="theme-toggle" onclick="toggleTheme()">üåô</div>
  </nav>
</header>

<div class="top-tools">
  <input id="searchInput" placeholder="–ü–æ–∏—Å–∫..." oninput="applySearch()">
</div>


<!-- HOME -->
<section id="home-page">
  <section class="section" id="shops">
    <h2>–ú–∞–≥–∞–∑–∏–Ω—ã</h2>
    <div id="loading-shops" class="loading">–ó–∞–≥—Ä—É–∑–∫–∞‚Ä¶</div>
    <div id="shops-list" class="grid"></div>
  </section>
</section>

<!-- STORE -->
<section id="store-page" class="hidden">
  <section class="section">
    <div style="display:flex;align-items:center;gap:10px;flex-wrap:wrap">
      <button onclick="goBack()" style="
        padding:10px 14px;border-radius:999px;
        border:1px solid var(--border-glass);
        background:var(--bg-glass); color:var(--text-main);
        cursor:pointer;font-weight:800
      ">‚Üê –ù–∞–∑–∞–¥</button>

      <h2 id="store-title" style="margin:0;flex:1">–ú–∞–≥–∞–∑–∏–Ω</h2>
    </div>

    <div id="categories-block" style="margin-top:12px">
      <div id="categories-list" class="grid"></div>
    </div>

    <div id="store-products" style="margin-top:12px"></div>
  </section>
</section>

<!-- CART -->
<section class="section" id="cart-page">
  <h2>–ö–æ—Ä–∑–∏–Ω–∞</h2>

  <div id="global-cart-items"></div>

  <div class="totals">
    <div id="global-cart-total">–¢–æ–≤–∞—Ä—ã: 0 AMD</div>
    <div id="delivery-total">–î–æ—Å—Ç–∞–≤–∫–∞: 0 AMD</div>
    <div id="grand-total" style="color:var(--accent-gold);font-size:16px;">–ò—Ç–æ–≥–æ: 0 AMD</div>
  </div>

  <div class="order-form" style="margin-top:14px">
    <input id="name" placeholder="–í–∞—à–µ –∏–º—è">
    <input id="phone" placeholder="–í–∞—à —Ç–µ–ª–µ—Ñ–æ–Ω">
    <input id="address" placeholder="–ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏">

    <select id="district">
      <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–π–æ–Ω</option>
      <option value="–ê—Ä—Ç–∏–∫">–ê—Ä—Ç–∏–∫ (500 AMD)</option>
      <option value="–ê—Ä–∏—á">–ê—Ä–∏—á (700 AMD)</option>
      <option value="–ù–æ—Ä-–ö—è–Ω–∫">–ù–æ—Ä-–ö—è–Ω–∫ (1000 AMD)</option>
      <option value="–ü–µ–º–∑–∞—à–µ–Ω">–ü–µ–º–∑–∞—à–µ–Ω (1000 AMD)</option>
    </select>

    <select id="payment">
      <option value="–ù–∞–ª–∏—á–Ω—ã–µ –∫—É—Ä—å–µ—Ä—É">üíµ –ù–∞–ª–∏—á–Ω—ã–µ –∫—É—Ä—å–µ—Ä—É</option>
      <option value="–ü–µ—Ä–µ–≤–æ–¥ –Ω–∞ –∫–∞—Ä—Ç—É">üí≥ –ü–µ—Ä–µ–≤–æ–¥ –Ω–∞ –∫–∞—Ä—Ç—É (Fast Bank)</option>
    </select>

    <!-- ‚úÖ FIXED: card block + copy button -->
   <div id="card-info"
     style="display:none;margin:10px 0;padding:10px;
            border:1px solid rgba(46,204,113,.4);
            border-radius:10px;
            background:rgba(46,204,113,.08);
            font-size:14px">
  üí≥ <b>Fast Bank</b><br>
  –ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã:<br>

  <b id="card-number">4335 4400 4065 6791</b>
  <button id="copy-card-btn" type="button" style="
    margin-left:10px;
    padding:6px 10px;
    border-radius:999px;
    border:1px solid rgba(255,255,255,.18);
    background:rgba(255,255,255,.08);
    color:inherit;
    cursor:pointer;
    font-weight:700;
  ">üìã Copy</button>

  <br>
  –ü–æ–ª—É—á–∞—Ç–µ–ª—å: <b>’Ñ’•÷Ä’∏’∂÷Ñ</b>
</div>

    <textarea id="comment" rows="3" placeholder="–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –∑–∞–∫–∞–∑—É"></textarea>

    <button onclick="fillFromLastOrder()">‚ö° –ê–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–∏—Ç—å –∏–∑ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∑–∞–∫–∞–∑–∞</button>
    <button onclick="placeOrder()">üì≤ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–∫–∞–∑</button>
  </div>
</section>

<!-- HISTORY MODAL -->
<div id="history-modal" class="hidden" style="
  position:fixed; inset:0; z-index:99999;
  background:rgba(0,0,0,.55);
  display:flex;
  align-items:center; justify-content:center;
  padding:16px;
">
  <div style="
    width:min(720px, 96vw);
    max-height:86vh;
    overflow:auto;
    background:var(--bg-secondary);
    border:1px solid var(--border-glass);
    border-radius:20px;
    box-shadow:var(--shadow-hover);
    padding:16px;
  ">
    <div style="display:flex;align-items:center;justify-content:space-between;gap:12px">
      <div style="font-family:'Playfair Display',serif;font-size:22px;color:var(--accent-gold);font-weight:800;">
        üì± –ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤
      </div>
      <button onclick="closeOrderHistory()" style="
        width:42px;height:42px;border-radius:50%;
        border:1px solid var(--border-glass);
        background:var(--bg-glass);
        color:var(--text-main);
        cursor:pointer;
        font-size:18px;
      ">‚úï</button>
    </div>

    <div id="history-list" style="margin-top:12px"></div>

    <div style="display:flex;gap:10px;margin-top:14px;flex-wrap:wrap;justify-content:flex-end">
      <button onclick="clearOrderHistory()" style="
        padding:10px 14px;border-radius:999px;
        border:1px solid rgba(255,107,107,.35);
        background:rgba(255,107,107,.10);
        color:#ff6b6b; cursor:pointer; font-weight:800;
      ">–û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é</button>

      <button onclick="closeOrderHistory()" style="
        padding:10px 14px;border-radius:999px;
        border:1px solid var(--border-glass);
        background:var(--bg-glass);
        color:var(--text-main); cursor:pointer; font-weight:800;
      ">–ó–∞–∫—Ä—ã—Ç—å</button>
    </div>
  </div>
</div>


<!-- ORDER STATUS MODAL -->
<div id="status-modal" class="hidden" style="
  position:fixed;inset:0;z-index:9999;
  background:rgba(0,0,0,.55);
  display:flex;align-items:center;justify-content:center;
  padding:16px;
">
  <div style="
    width:min(520px,95vw);
    background:linear-gradient(180deg,var(--bg-secondary),var(--bg-main));
    border:1px solid var(--border-glass);
    border-radius:18px;
    box-shadow:var(--shadow-soft);
    padding:16px;
  ">
    <div style="display:flex;justify-content:space-between;align-items:center;gap:10px">
      <div style="font-weight:900;color:var(--accent-gold);font-size:16px">–°—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞</div>
      <button onclick="closeStatusModal()" style="
        border:1px solid var(--border-glass);
        background:var(--bg-glass);
        color:var(--text-main);
        border-radius:999px;
        padding:8px 12px;
        cursor:pointer;
        font-weight:800;
      ">‚úï</button>
    </div>

    <div style="margin-top:12px">
      <div id="status-order-title" style="font-weight:800"></div>
      <div id="status-order-sub" style="margin-top:6px;color:var(--text-muted);font-size:13px"></div>
    </div>

    <div style="margin-top:14px;border-top:1px solid var(--border-glass);padding-top:12px">
      <div id="status-label" style="font-weight:900;font-size:15px"></div>
      <div id="status-updated" style="margin-top:6px;color:var(--text-muted);font-size:12px"></div>
    </div>

    <div style="margin-top:14px;display:flex;gap:10px;justify-content:flex-end;flex-wrap:wrap">
      <button onclick="closeStatusModal()" style="
        padding:10px 14px;border-radius:999px;
        border:1px solid var(--border-glass);
        background:var(--bg-glass);
        color:var(--text-main); cursor:pointer; font-weight:900;
      ">–ó–∞–∫—Ä—ã—Ç—å</button>
    </div>
  </div>
</div>

<script src="site.js"></script>
</body>
</html>
